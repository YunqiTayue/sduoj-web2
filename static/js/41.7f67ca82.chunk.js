(this.webpackJsonpsduoj=this.webpackJsonpsduoj||[]).push([[41],{1004:function(e,t,a){"use strict";var n=a(975),c=a(299),r=a(965),o=a(60),i=a(1085),l=a(974),s=a(0),d=a(87),u=a(66),m=a(298),b=a(40),p=a(302),j=a(67),h=a(292),v=a(5);t.a=Object(u.b)((e=>{var t;const a=e.UserReducer,n=e.TableReduce;return{roles:null===(t=a.userInfo)||void 0===t?void 0:t.roles,tableData:{...n.tableData}}}),(e=>({setTableInfo:(t,a)=>e({type:"setTableInfo",name:t,data:a}),setDataSource:(t,a)=>e({type:"setDataSource",data:t,name:a,add:!1})})))(Object(m.a)()(Object(b.e)((e=>{var t,a;const[u,m]=Object(s.useState)(0),[b,f]=Object(s.useState)(),[O,g]=Object(s.useState)(!0),[x,y]=Object(s.useState)(1),[C,w]=Object(s.useState)(Object(j.a)(e.defaultPageSize,d.h)),[S,N]=Object(s.useState)(),[P,I]=Object(s.useState)(0),T=t=>{f(t),void 0!==e.setDataSource&&void 0!==e.name&&e.setDataSource(t,e.name)},F=(t,a,n,c)=>{var r,o,i,l,s;const d=null===(r=e.tableData[e.name])||void 0===r?void 0:r.tableInfo;var u,b,p,j;void 0!==d&&(void 0===c&&void 0!==d.moreProps&&k.setFieldsValue(d.moreProps),t=null!==(u=t)&&void 0!==u?u:d.pageNow,a=null!==(b=a)&&void 0!==b?b:d.pageSize,n=null!==(p=n)&&void 0!==p?p:d.searchKey,c=null!==(j=c)&&void 0!==j?j:d.moreProps);let h=null!==(o=t)&&void 0!==o?o:x,v=null!==(i=a)&&void 0!==i?i:C,f=null!==(l=n)&&void 0!==l?l:S,O=null!==(s=c)&&void 0!==s?s:k.getFieldsValue();y(h),w(v),N(f),g(!0),e.API({pageNow:h,pageSize:v,searchKey:f,...O}).then((t=>{null===t.rows&&(t.rows=[]),void 0!==e.APIRowsTransForm?T(e.APIRowsTransForm(t.rows)):T(t.rows),void 0!==t.totalNum&&"0"!==t.totalNum?(m(t.totalNum),e.name&&e.setTableInfo(e.name,{total:t.totalNum,pageNow:h,pageSize:v,searchKey:f,moreProps:O})):(m(v*t.totalPage),e.name&&e.setTableInfo(e.name,{total:v*t.totalPage,pageNow:h,pageSize:v,searchKey:f,moreProps:O})),g(!1)}))};Object(s.useEffect)((()=>{k.setFieldsValue(e.initRequestProps),F()}),[e.name]);const[k]=Object(h.a)(),E=()=>{const e=k.getFieldsValue();"{}"!==JSON.stringify(e)&&F(1,C,void 0,e)},z=()=>{var t;const a=k.getFieldsValue();k.resetFields();const n=null===(t=e.tableData[e.name])||void 0===t?void 0:t.tableInfo;e.name&&e.setTableInfo(e.name,{total:n.total,pageNow:n.pageNow,pageSize:n.pageSize,searchKey:n.searchKey,moreProps:void 0});const c=k.getFieldsValue();JSON.stringify(a)!==JSON.stringify(c)&&F(1,C,void 0,void 0)};return Object(s.useEffect)((()=>{var t;const a=null===(t=e.tableData[e.name])||void 0===t?void 0:t.tableVersion;if(void 0!==a&&P!==a)if(a<0){var n;I(-a),f(null===(n=e.tableData[e.name])||void 0===n?void 0:n.dataSource)}else{I(a);const e=k.getFieldsValue();F(x,C,S,e)}}),[e.tableData,P]),Object(v.jsxs)(v.Fragment,{children:[e.useList&&Object(v.jsx)(n.a,{title:e.title,bordered:!0,size:"default",className:null!==(t=e.cardProps)&&void 0!==t?t:"zeroBodyPaddingLeft",extra:(!0===e.search||void 0!==e.getForm)&&Object(v.jsxs)(v.Fragment,{children:[!0===e.search&&Object(v.jsx)(p.a,{placeholder:e.t("searchUser"),onSearch:e=>{N(e),y(1);const t=k.getFieldsValue();F(1,C,e,t)},enterButton:!0,style:{width:300}},"search"),void 0!==e.getForm&&Object(v.jsxs)(c.a,{form:k,children:[e.getForm(E),e.useFormBtn&&Object(v.jsxs)(r.b,{style:{marginLeft:"30px"},size:20,children:[Object(v.jsx)(o.a,{type:"primary",onClick:E,children:"\u7b5b\u9009"}),Object(v.jsx)(o.a,{htmlType:"button",onClick:z,children:"\u91cd\u7f6e"})]})]})]}),children:Object(v.jsx)(i.b,{grid:e.grid,itemLayout:"vertical",loading:O,size:e.size,dataSource:b,renderItem:e.renderItem,pagination:{onChange:(e,t)=>{F(e,t)},current:x,pageSize:C,total:u,size:"small",hideOnSinglePage:!0,showQuickJumper:!0,showLessItems:!0,showSizeChanger:Object(j.a)(e.showSizeChanger,!0),pageSizeOptions:["5","15","20","50","80"]}})}),!e.useList&&Object(v.jsx)(n.a,{bordered:!1,size:"small",extra:(!0===e.search||void 0!==e.getForm)&&Object(v.jsxs)(v.Fragment,{children:[!0===e.search&&Object(v.jsx)(p.a,{placeholder:"\u641c\u7d22",onSearch:e=>{N(e),y(1),F(1,C,e)},enterButton:!0,style:{width:300}},"search"),void 0!==e.getForm&&Object(v.jsxs)(c.a,{form:k,children:[e.getForm(E),Object(v.jsxs)(r.b,{style:{marginLeft:"30px"},size:20,children:[Object(v.jsx)(o.a,{type:"primary",onClick:E,children:e.t("filtering")}),Object(v.jsx)(o.a,{htmlType:"button",onClick:z,children:e.t("Reset")})]})]})]}),children:Object(v.jsx)(l.a,{rowKey:e.rowKey,loading:O,size:e.size,columns:e.columns,rowSelection:e.rowSelection,dataSource:b,pagination:null!==(a=e.pagination)&&void 0!==a?a:{onChange:(e,t)=>{F(e,t)},current:x,pageSize:C,total:u,hideOnSinglePage:!1,showQuickJumper:!0,showLessItems:!0,showSizeChanger:Object(j.a)(e.showSizeChanger,!0),pageSizeOptions:["5","15","20","50","80"]}})})]})}))))},1018:function(e,t,a){"use strict";var n=a(0),c=a(66),r=a(298),o=a(40),i=a(97),l=a(60),s=a(968),d=a(299),u=a(409),m=a(411),b=a(67),p=a(292),j=a(1429),h=a(5);t.a=Object(c.b)((()=>({})),(e=>({addTableVersion:t=>e({type:"addTableVersion",name:t}),addManageInitData:(t,a)=>e({type:"addManageInitData",key:t,data:a})})))(Object(r.a)()(Object(o.e)((e=>{var t;const[a]=Object(p.a)(),c=Object(n.useRef)([]),[r,o]=Object(n.useState)(!1),[v,f]=Object(n.useState)(),[O,g]=Object(n.useState)(0),[x,y]=Object(n.useState)(!1);Object(n.useEffect)((()=>{setTimeout((()=>{!Object(b.c)(c.current)&&c.current.forEach((e=>{var t;null===(t=e.current)||void 0===t||t.setFieldsValue(v)})),a&&a.setFieldsValue(v)}),100),r||(g(0),c.current.forEach((e=>{var t;null===(t=e.current)||void 0===t||t.resetFields()})),e.formName&&e.addManageInitData(e.formName,void 0))}),[r,v]),Object(n.useEffect)((()=>{e.formName&&e.addManageInitData(e.formName,v)}),[v]);const C=t=>{const n=t=>{y(!0),e.updateAppendProps&&Object.assign(t,e.updateAppendProps),e.dataSubmitter(t).then((t=>{e.TableName&&e.addTableVersion(e.TableName),e.afterSubmit&&e.afterSubmit(t),e.onClose&&e.onClose(),o(!1),i.b.success("\u6210\u529f")})).finally((()=>{y(!1)}))};1===e.subForm.length?a.validateFields().then((e=>{n(e)})).catch((()=>{i.b.error("\u8868\u5355\u4e0d\u5b8c\u6574")})):n(t)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(l.a,{...e.btnProps,type:Object(b.a)(e.btnType,{create:"primary",update:"link",fork:"link",batchUpdate:"primary"}[e.type]),onClick:()=>{if("update"===e.type||"fork"===e.type)if(void 0===e.initData){const t=i.b.loading({content:"\u52a0\u8f7d\u4e2d",duration:0});if(void 0===e.dataLoader)return t(),void i.b.error("\u672a\u5b9a\u4e49\u6570\u636e\u52a0\u8f7d\u5668");e.dataLoader&&e.dataLoader().then((e=>{f(e),t(),o(!0)})).catch((()=>{t()}))}else f(e.initData),o(!0);else"create"===e.type?(void 0!==e.initData&&f(e.initData),o(!0)):o(!0)},style:"fork"===e.type||"update"===e.type||"link"===e.btnType?{paddingLeft:5,paddingRight:5}:void 0,children:[(()=>{if(!1!==e.btnIcon){if("create"===e.type)return Object(h.jsx)(u.a,{});if("batchUpdate"===e.type)return Object(h.jsx)(m.a,{})}})(),(()=>{if(void 0!==e.btnName)return e.btnName;switch(e.type){case"create":return e.t("create");case"update":return e.t("Edit");case"fork":return"\u514b\u9686";default:return"\u6279\u91cf\u4fee\u6539"}})()]}),1===e.subForm.length&&Object(h.jsx)(s.a,{width:e.width,style:{minWidth:e.width},destroyOnClose:!0,title:e.title,className:e.className,visible:r,maskClosable:!1,onCancel:()=>{e.onClose&&e.onClose(),o(!1)},footer:[Object(h.jsx)(l.a,{type:"primary",onClick:C,loading:x,children:e.t("Submit")},"submit")],children:Object(h.jsx)(d.a,{form:a,layout:null!==(t=e.layout)&&void 0!==t?t:"vertical",initialValues:e.initData,scrollToFirstError:!0,preserve:!1,children:e.subForm[0].component})}),1!==e.subForm.length&&Object(h.jsx)(j.b,{current:O,onCurrentChange:e=>{g(e)},formMapRef:c,onFinish:async e=>{C(e)},submitter:{submitButtonProps:{loading:x}},stepsFormRender:(t,a)=>{var n;return Object(h.jsx)(s.a,{destroyOnClose:!0,title:e.title,className:e.className,visible:r,maskClosable:!1,width:null!==(n=e.width)&&void 0!==n?n:1200,style:{minWidth:e.width},onCancel:()=>{e.onClose&&e.onClose(),o(!1)},footer:a,children:t})},children:e.subForm.map(((t,a)=>{var n;return Object(h.jsx)(j.b.StepForm,{layout:null!==(n=e.layout)&&void 0!==n?n:"vertical",name:"step"+a,title:t.label,onFinish:async()=>!0,children:t.component})}))})]})}))))},1022:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return i}));var n=a(100),c=a(1041),r=a.n(c);const o=(e,t)=>{let a=new FormData,c=0,o=[],i=[];e.forEach((e=>{i.push(e.arrayBuffer().then((i=>{let l=r()(i);return o.push(n.a.getFileByMD5({md5:l}).then((n=>null!==n?(t(n),Promise.resolve()):(a.append("files",e),c+=1,Promise.resolve())))),Promise.resolve()})))})),Promise.all(i).then((()=>{Promise.all(o).then((()=>{0!==c&&n.a.uploadFile(a).then((e=>{e.map((e=>{t(e)}))}))}))}))},i=(e,t)=>{let a=new FormData;a.append("file",e),n.a.uploadSingleFile(a).then((e=>{t(e)}))}},1051:function(e,t,a){"use strict";var n=a(1),c=a(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},o=a(12),i=function(e,t){return c.createElement(o.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:r}))};i.displayName="DeleteOutlined";t.a=c.forwardRef(i)},1053:function(e,t,a){"use strict";var n=a(0),c=a(1027),r=a.n(c),o=a(1022),i=a(97),l=a(60),s=a(408),d=a(965),u=a(1067),m=a.n(u),b=a(66),p=a(401),j=a(298),h=a(40),v=a(141),f=a(67),O=a(5);const g=e=>{const t=Date.now().toString(),{t:a}=Object(p.a)();return new m.a("."+e.btnText+t,{text:t=>e.text}).on("success",(function(e){i.b.success(a("ReplicationSuccess"))})),Object(O.jsx)(l.a,{className:e.btnText+t,size:"small",children:e.btnText})},x="https://oj.qd.sdu.edu.cn";t.a=Object(b.b)((e=>({langCode:e.ConfigReducer.langCode})),(e=>({})))(Object(j.a)()(Object(h.e)((e=>{var t;const[a,c]=Object(n.useState)(void 0),[l,u]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{Object(f.c)(e.langCode)||(()=>{var t;const a=new r.a(null!==(t=e.id)&&void 0!==t?t:"vditor",{height:void 0===e.height?800:e.height,mode:"ir",placeholder:"\u652f\u6301 Markdown\uff0c\u652f\u6301 KaTex \u516c\u5f0f\n\u8868\u683c\u63d2\u5165\u4e00\u884c\uff1aCtrl+'+' \n\u8868\u683c\u63d2\u5165\u4e00\u5217\uff1aCtrl+Shift+'+'",lang:e.langCode,cdn:x+"/vditor",outline:{enable:!1,position:"left"},hint:{emojiPath:x+"/vditor/dist/images/emoji"},preview:{delay:500,hljs:{lineNumber:!1},markdown:{toc:!0,mark:!0,footnotes:!0,autoSpace:!0},math:{inlineDigit:!0,engine:"KaTeX"}},toolbar:["emoji","headings","bold","italic","strike","link","|","list","ordered-list","check","outdent","indent","|","quote","line","code","inline-code","insert-before","insert-after","|","upload","table","|","undo","redo","|","outline","fullscreen","edit-mode",{name:"more",toolbar:["code-theme","content-theme","export","help"]},"|",{hotkey:"\u2318-S",name:"save",tipPosition:"s",tip:"\u4fdd\u5b58",className:"right",icon:'<img style="height: 16px" src=\'https://img.58cdn.com.cn/escstatic/docs/imgUpload/idocs/save.svg\' alt="save"/>',click(){e.onChange&&e.onChange(a.getValue())}}],after(){a.setValue(void 0===e.value?"":e.value),u(!0)},blur(){e.onChange&&e.onChange(a.getValue())},upload:{accept:"*/*",multiple:!1,filename:e=>e.replaceAll(/[^(a-zA-Z0-9\u4e00-\u9fa5.)]/g,"").replaceAll(/[?\\/:|<>*\[\]()$%{}@~]/g,"").replaceAll("/\\s/g",""),handler(e){if(e[0].name.length>64)return i.b.error("\u6587\u4ef6\u540d\u5927\u4e8e 64 \u5b57\u7b26"),Promise.reject("\u6587\u4ef6\u540d\u5927\u4e8e 64 \u5b57\u7b26");Object(o.a)(e,(function(t){let n=e[0]&&e[0].name;n=n.replaceAll(/[^(a-zA-Z0-9\u4e00-\u9fa5.)]/g,"").replaceAll(/[?\\/:|<>*\[\]()$%{}@~]/g,"").replaceAll("/\\s/g","");const c=Object(v.a)().CLIENT_SERVER+"/api/filesys/download/"+t.id+"/"+n;let r=n.substr(n.lastIndexOf(".")+1).toUpperCase(),o="";-1!==["BMP","DIB","PCP","DIF","WMF","GIF","JPG","TIF","EPS","PSD","CDR","IFF","TGA","PCD","MPT","PNG"].indexOf(r)?a&&"wysiwyg"===a.vditor.currentMode?o+='\n <img src="'.concat(c,'" alt="').concat(n,'" style="zoom:100%;" />'):o+="\n ![".concat(n,"](").concat(c,")"):a&&"wysiwyg"===a.vditor.currentMode?o+='\n <a href="'.concat(c,'">').concat(n,"</a>"):o+="\n [".concat(n,"](").concat(c,")"),document.execCommand("insertHTML",!1,o),s.a.open({message:"\u6587\u4ef6\u4e0a\u4f20\u6210\u529f",description:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("span",{children:["\u6587\u4ef6\u540d\uff1a",n]}),Object(O.jsx)("br",{}),Object(O.jsxs)(d.b,{children:["\u70b9\u51fb\u590d\u5236\uff1a",Object(O.jsx)(g,{text:c,btnText:"\u7eaf\u8def\u5f84"}),Object(O.jsx)(g,{text:"[".concat(n,"](").concat(c,")"),btnText:"MD\u94fe\u63a5"}),Object(O.jsx)(g,{text:"![".concat(n,"](").concat(c,")"),btnText:"MD\u56fe\u7247"})]}),Object(O.jsx)("br",{}),Object(O.jsxs)(d.b,{children:[Object(O.jsx)(g,{text:'<a href="'.concat(c,'">').concat(n,"</a>"),btnText:"HTML\u94fe\u63a5"}),Object(O.jsx)(g,{text:'<img src="'.concat(c,'" alt="').concat(n,'" style="zoom:100%;" />'),btnText:"HTML\u56fe\u7247"})]})]}),duration:null,type:"success"})}))}}});c(a)})()}),[e.langCode]),Object(n.useEffect)((()=>{var t;l&&void 0!==a&&a.getValue()!==e.value&&a.setValue(null!==(t=e.value)&&void 0!==t?t:"")}),[a,e.value,l]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{id:null!==(t=e.id)&&void 0!==t?t:"vditor",className:"vditor"})})}))))},1054:function(e,t,a){"use strict";var n=a(299),c=a(178),r=(a(0),a(298)),o=a(5);t.a=Object(r.a)()((e=>{var t,a;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(n.a.Item,{label:null!==(t=e.label)&&void 0!==t?t:e.t("title"),name:null!==(a=e.name)&&void 0!==a?a:"title",required:!0,children:Object(o.jsx)(c.a,{})})})}))},1069:function(e,t,a){"use strict";var n=a(3),c=a(4),r=a(89),o=a(2),i=a.n(o),l=a(6),s=a(8),d=a(11),u=a(0),m=a(99),b=a(41),p=u.forwardRef((function(e,t){var a,n=e.prefixCls,c=void 0===n?"rc-switch":n,r=e.className,o=e.checked,p=e.defaultChecked,j=e.disabled,h=e.loadingIcon,v=e.checkedChildren,f=e.unCheckedChildren,O=e.onClick,g=e.onChange,x=e.onKeyDown,y=Object(d.a)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),C=Object(m.a)(!1,{value:o,defaultValue:p}),w=Object(s.a)(C,2),S=w[0],N=w[1];function P(e,t){var a=S;return j||(N(a=e),null===g||void 0===g||g(a,t)),a}var I=i()(c,r,(a={},Object(l.a)(a,"".concat(c,"-checked"),S),Object(l.a)(a,"".concat(c,"-disabled"),j),a));return u.createElement("button",Object.assign({},y,{type:"button",role:"switch","aria-checked":S,disabled:j,className:I,ref:t,onKeyDown:function(e){e.which===b.a.LEFT?P(!1,e):e.which===b.a.RIGHT&&P(!0,e),null===x||void 0===x||x(e)},onClick:function(e){var t=P(!S,e);null===O||void 0===O||O(t,e)}}),h,u.createElement("span",{className:"".concat(c,"-inner")},S?v:f))}));p.displayName="Switch";var j=p,h=a(36),v=a(56),f=a(38),O=a(189),g=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a},x=u.forwardRef((function(e,t){var a,o=e.prefixCls,l=e.size,s=e.disabled,d=e.loading,m=e.className,b=void 0===m?"":m,p=g(e,["prefixCls","size","disabled","loading","className"]),x=u.useContext(h.b),y=x.getPrefixCls,C=x.direction,w=u.useContext(f.b),S=u.useContext(v.b),N=s||S||d,P=y("switch",o),I=u.createElement("div",{className:"".concat(P,"-handle")},d&&u.createElement(r.a,{className:"".concat(P,"-loading-icon")})),T=i()((a={},Object(c.a)(a,"".concat(P,"-small"),"small"===(l||w)),Object(c.a)(a,"".concat(P,"-loading"),d),Object(c.a)(a,"".concat(P,"-rtl"),"rtl"===C),a),b);return u.createElement(O.a,{insertExtraNode:!0},u.createElement(j,Object(n.a)({},p,{prefixCls:P,className:T,disabled:N,ref:t,loadingIcon:I})))}));x.__ANT_SWITCH=!0;t.a=x},1085:function(e,t,a){"use strict";a.d(t,"a",(function(){return N}));var n=a(16),c=a(3),r=a(4),o=a(10),i=a(15),l=a(2),s=a.n(l),d=a(0),u=a.n(d),m=a(36),b=a(184),p=a(962),j=a(138),h=a(306),v=a(241),f=a(112),O=a(177),g=a(23),x=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a},y=function(e,t){var a=e.prefixCls,n=e.children,o=e.actions,i=e.extra,l=e.className,b=e.colStyle,p=x(e,["prefixCls","children","actions","extra","className","colStyle"]),j=Object(d.useContext)(N),h=j.grid,v=j.itemLayout,f=Object(d.useContext)(m.b).getPrefixCls,y=f("list",a),C=o&&o.length>0&&u.a.createElement("ul",{className:"".concat(y,"-item-action"),key:"actions"},o.map((function(e,t){return u.a.createElement("li",{key:"".concat(y,"-item-action-").concat(t)},e,t!==o.length-1&&u.a.createElement("em",{className:"".concat(y,"-item-action-split")}))}))),w=h?"div":"li",S=u.a.createElement(w,Object(c.a)({},p,h?{}:{ref:t},{className:s()("".concat(y,"-item"),Object(r.a)({},"".concat(y,"-item-no-flex"),!("vertical"===v?i:!function(){var e;return d.Children.forEach(n,(function(t){"string"===typeof t&&(e=!0)})),e&&d.Children.count(n)>1}())),l)}),"vertical"===v&&i?[u.a.createElement("div",{className:"".concat(y,"-item-main"),key:"content"},n,C),u.a.createElement("div",{className:"".concat(y,"-item-extra"),key:"extra"},i)]:[n,C,Object(g.a)(i,{key:"extra"})]);return h?u.a.createElement(O.a,{ref:t,flex:1,style:b},S):S},C=Object(d.forwardRef)(y);C.Meta=function(e){var t=e.prefixCls,a=e.className,n=e.avatar,r=e.title,o=e.description,i=x(e,["prefixCls","className","avatar","title","description"]),l=(0,Object(d.useContext)(m.b).getPrefixCls)("list",t),b=s()("".concat(l,"-item-meta"),a),p=u.a.createElement("div",{className:"".concat(l,"-item-meta-content")},r&&u.a.createElement("h4",{className:"".concat(l,"-item-meta-title")},r),o&&u.a.createElement("div",{className:"".concat(l,"-item-meta-description")},o));return u.a.createElement("div",Object(c.a)({},i,{className:b}),n&&u.a.createElement("div",{className:"".concat(l,"-item-meta-avatar")},n),(r||o)&&p)};var w=C,S=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a},N=d.createContext({});N.Consumer;function P(e){var t,a=e.pagination,l=void 0!==a&&a,u=e.prefixCls,O=e.bordered,g=void 0!==O&&O,x=e.split,y=void 0===x||x,C=e.className,w=e.children,P=e.itemLayout,I=e.loadMore,T=e.grid,F=e.dataSource,k=void 0===F?[]:F,E=e.size,z=e.header,D=e.footer,A=e.loading,M=void 0!==A&&A,V=e.rowKey,R=e.renderItem,L=e.locale,K=S(e,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),B=l&&"object"===Object(i.a)(l)?l:{},H=d.useState(B.defaultCurrent||1),J=Object(o.a)(H,2),U=J[0],q=J[1],G=d.useState(B.defaultPageSize||10),W=Object(o.a)(G,2),_=W[0],Q=W[1],Z=d.useContext(m.b),$=Z.getPrefixCls,X=Z.renderEmpty,Y=Z.direction,ee={},te=function(e){return function(t,a){q(t),Q(a),l&&l[e]&&l[e](t,a)}},ae=te("onChange"),ne=te("onShowSizeChange"),ce=$("list",u),re=M;"boolean"===typeof re&&(re={spinning:re});var oe=re&&re.spinning,ie="";switch(E){case"large":ie="lg";break;case"small":ie="sm"}var le=s()(ce,(t={},Object(r.a)(t,"".concat(ce,"-vertical"),"vertical"===P),Object(r.a)(t,"".concat(ce,"-").concat(ie),ie),Object(r.a)(t,"".concat(ce,"-split"),y),Object(r.a)(t,"".concat(ce,"-bordered"),g),Object(r.a)(t,"".concat(ce,"-loading"),oe),Object(r.a)(t,"".concat(ce,"-grid"),!!T),Object(r.a)(t,"".concat(ce,"-something-after-last-item"),!!(I||l||D)),Object(r.a)(t,"".concat(ce,"-rtl"),"rtl"===Y),t),C),se=Object(c.a)(Object(c.a)(Object(c.a)({},{current:1,total:0}),{total:k.length,current:U,pageSize:_}),l||{}),de=Math.ceil(se.total/se.pageSize);se.current>de&&(se.current=de);var ue=l?d.createElement("div",{className:"".concat(ce,"-pagination")},d.createElement(h.a,Object(c.a)({},se,{onChange:ae,onShowSizeChange:ne}))):null,me=Object(n.a)(k);l&&k.length>(se.current-1)*se.pageSize&&(me=Object(n.a)(k).splice((se.current-1)*se.pageSize,se.pageSize));var be=Object.keys(T||{}).some((function(e){return["xs","sm","md","lg","xl","xxl"].includes(e)})),pe=Object(j.a)(be),je=d.useMemo((function(){for(var e=0;e<f.b.length;e+=1){var t=f.b[e];if(pe[t])return t}}),[pe]),he=d.useMemo((function(){if(T){var e=je&&T[je]?T[je]:T.column;return e?{width:"".concat(100/e,"%"),maxWidth:"".concat(100/e,"%")}:void 0}}),[null===T||void 0===T?void 0:T.column,je]),ve=oe&&d.createElement("div",{style:{minHeight:53}});if(me.length>0){var fe=me.map((function(e,t){return function(e,t){return R?((a="function"===typeof V?V(e):V?e[V]:e.key)||(a="list-item-".concat(t)),ee[t]=a,R(e,t)):null;var a}(e,t)})),Oe=d.Children.map(fe,(function(e,t){return d.createElement("div",{key:ee[t],style:he},e)}));ve=T?d.createElement(p.a,{gutter:T.gutter},Oe):d.createElement("ul",{className:"".concat(ce,"-items")},fe)}else w||oe||(ve=function(e,t){return d.createElement("div",{className:"".concat(e,"-empty-text")},L&&L.emptyText||t("List"))}(ce,X||b.a));var ge=se.position||"bottom",xe=d.useMemo((function(){return{grid:T,itemLayout:P}}),[JSON.stringify(T),P]);return d.createElement(N.Provider,{value:xe},d.createElement("div",Object(c.a)({className:le},K),("top"===ge||"both"===ge)&&ue,z&&d.createElement("div",{className:"".concat(ce,"-header")},z),d.createElement(v.a,Object(c.a)({},re),ve,w),D&&d.createElement("div",{className:"".concat(ce,"-footer")},D),I||("bottom"===ge||"both"===ge)&&ue))}P.Item=w;t.b=P},1089:function(e,t,a){"use strict";var n=a(1053),c=a(299),r=a(5);t.a=e=>Object(r.jsx)(c.a.Item,{label:e.label,name:e.name,children:Object(r.jsx)(n.a,{height:500,id:e.id})})},1290:function(e,t,a){"use strict";a(0);var n=a(66),c=a(298),r=a(40),o=a(1068),i=a(60),l=a(1051),s=a(67),d=a(5);t.a=Object(n.b)((e=>({tableData:e.TableReduce.tableData})),(e=>({addTableVersion:t=>e({type:"addTableVersion",name:t}),setDataSource:(t,a)=>e({type:"setDataSource",name:t,data:a,add:!0}),setSelectedRowKeys:(t,a)=>e({type:"setSelectedRowKeys",data:t,name:a})})))(Object(c.a)()(Object(r.e)((e=>{var t,a,n;const c=Object(s.a)(null===(t=e.tableData[e.tableName])||void 0===t?void 0:t.selectedRowKeys,[]),r=Object(s.a)(null===(a=e.tableData[e.tableName])||void 0===a?void 0:a.dataSource,[]);let u={};return u="inline"===e.type?{type:"link",size:"small"}:{type:"primary",danger:!0,icon:Object(d.jsx)(l.a,{})},Object(d.jsx)(o.a,{title:e.t("deleteConfirm"),onConfirm:()=>{void 0!==e.API?e.API(e.data).then((t=>{e.addTableVersion(e.name)})):(e.setDataSource(e.tableName,r.filter((t=>e.data!==t[e.rowKey]))),e.setSelectedRowKeys(c.filter((t=>t!==e.data)),e.tableName))},okText:e.t("yes"),cancelText:e.t("no"),children:Object(d.jsxs)(i.a,{...u,...e.btnProps,children:[" ",null!==(n=e.btnText)&&void 0!==n?n:e.t("delete")," "]})})}))))},1430:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(40),r=a(965),o=a(970),i=a(975),l=a(298),s=a(242),d=a(243),u=a(1004),m=a(1290),b=a(1018),p=a(299),j=a(1069),h=a(5);var v=Object(l.a)()((e=>Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(p.a.Item,{name:"top",label:e.t("IsTop"),initialValue:!1,valuePropName:"checked",rules:[{required:!0}],children:Object(h.jsx)(j.a,{checkedChildren:e.t("Top"),unCheckedChildren:e.t("UnTop")})})}))),f=a(1089),O=a(1054);class g extends n.Component{render(){const e=Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(v,{}),Object(h.jsx)(O.a,{}),Object(h.jsx)(f.a,{label:"\u516c\u544a\u5185\u5bb9",name:"text"})]});let t=[{title:"ID",dataIndex:"noticeId",width:50,responsive:["lg","sm","xs"]},{title:this.props.t("title"),dataIndex:"title",width:"auto",responsive:["lg","sm","xs"],render:(e,t)=>Object(h.jsxs)(r.b,{size:5,children:[e,1===t.top&&Object(h.jsx)(o.a,{color:"red",children:this.props.t("Top")})]})},{title:this.props.t("CreateTime"),dataIndex:"gmtCreate",width:"auto",responsive:["lg","sm"],render:e=>Object(d.e)(parseInt(e))},{title:this.props.t("ModifiedTime"),dataIndex:"gmtModified",width:"auto",responsive:["lg","sm"],render:e=>Object(d.e)(parseInt(e))},{title:this.props.t("Owner"),width:"auto",responsive:["lg"],render:(e,t)=>t.username},{title:this.props.t("operator"),width:"150px",render:(t,a)=>Object(h.jsxs)(r.b,{size:3,children:[Object(h.jsx)(b.a,{TableName:"Announcement",title:"\u7f16\u8f91 - "+a.title,type:"update",width:1100,subForm:[{component:e}],initData:a,updateAppendProps:{noticeId:a.noticeId,userId:a.userId},dataSubmitter:e=>(e.top=e.top?1:0,s.a.updateAnnouncement(e))}),Object(h.jsx)(m.a,{type:"inline",API:s.a.deleteAnnouncement,data:{id:a.noticeId},name:"Announcement"})]})}];return Object(h.jsx)("div",{style:{marginTop:-20,overflow:"hidden"},children:Object(h.jsx)(i.a,{size:"small",bordered:!0,title:"\u516c\u544a\u5217\u8868",extra:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(b.a,{TableName:"Announcement",title:"\u65b0\u5efa",type:"create",width:1100,subForm:[{component:e}],dataSubmitter:e=>(e.top=e.top?1:0,s.a.createAnnouncement(e))})}),children:Object(h.jsx)(u.a,{name:"Announcement",columns:t,API:s.a.getAnnouncementList,size:"small"})})})}}t.default=Object(l.a)()(Object(c.e)(g))}}]);
//# sourceMappingURL=41.7f67ca82.chunk.js.map