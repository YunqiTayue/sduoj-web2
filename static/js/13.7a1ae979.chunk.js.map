{"version":3,"sources":["Component/common/LoginCheck.tsx","Component/user/Avatar.tsx","Assert/img/logo.png","Component/common/ChangeLang.tsx","Assert/img/language.png","Config/router/routerC.tsx","Redux/Action/user.ts","../node_modules/@ant-design/icons-svg/es/asn/LogoutOutlined.js","../node_modules/@ant-design/icons/es/icons/LogoutOutlined.js","Component/layout/FooterSDU.tsx","Component/layout/CHeader.tsx","Component/layout/CLayout.tsx"],"names":["withTranslation","withRouter","props","dispatch","useDispatch","isLogin","useSelector","state","UserReducer","useEffect","cApi","getProfile","then","res","type","data","catch","jump","history","replace","UrlPrefix","location","pathname","UserAvatar","undefined","email","shape","src","md5","size","alt","icon","Option","Select","ChangeLang","Component","constructor","super","defLang","initLanguage","i18n","languages","map","value","language","filter","v","id","length","this","changeLang","bind","changeLanguage","findIndex","item","ChangeLanguage","languageMap","code","moment","locale","time","localStorage","setItem","render","width","onChange","defaultValue","bordered","style","marginLeft","r","i","name","toString","connect","lang","ConfigReducer","langCode","routerC","path","exact","component","lazy","router_ProblemSet","routerC_Contest_M","title_i18n","routerC_M","userLogoutTodo","getState","CApi","logout","resData","LogoutOutlined","ref","React","AntdIcon","_objectSpread","LogoutOutlinedSvg","displayName","Footer","Layout","copyRight","setCopyRight","getCopyright","textAlign","dangerouslySetInnerHTML","__html","Header","CHeader","context","syncSelect","selectedKey","setState","componentDidMount","replaceAll","e","componentDidUpdate","prevProps","prevState","snapshot","className","position","zIndex","display","justifyContent","flex","marginTop","logo","height","minWidth","mode","theme","selectedKeys","Item","to","t","overlay","roles","judgeAuth","RightOutlined","onClick","push","UserOutlined","userLogout","setTimeout","message","info","username","DownOutlined","fontSize","marginBottom","UState","userInfo","Content","MLayout","match","Math","max","LoginCheck","minHeight","backgroundColor","paddingTop","margin","fallback","Loading","ContestReducer"],"mappings":"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","file":"static/js/13.7a1ae979.chunk.js","sourcesContent":["import {withRouter} from \"react-router-dom\";\nimport React, {useEffect} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {withTranslation} from \"react-i18next\";\nimport cApi from \"Utils/API/c-api\"\nimport {UrlPrefix} from \"../../Config/constValue\";\n\nconst LoginCheck = (props: any) => {\n\n    const dispatch = useDispatch()\n    const isLogin = useSelector((state: any) => state.UserReducer.isLogin)\n\n    useEffect(() => {\n        if (isLogin === false) {\n            cApi.getProfile().then((res: any) => {\n                dispatch({type: \"setUserInfo\", data: res})\n                dispatch({type: \"userLogin\"})\n            }).catch(() => {\n                props.jump && props.history.replace(UrlPrefix + \"/login?to=\" + props.location.pathname)\n            })\n        }\n    }, [isLogin])\n\n    return (\n        <></>\n    )\n}\n\nexport default withTranslation()(withRouter(LoginCheck))\n","import {UserOutlined} from \"@ant-design/icons\";\nimport md5 from \"js-md5\";\nimport React from \"react\";\nimport {Avatar} from \"antd\";\nimport {AvatarSize} from \"antd/es/avatar/SizeContext\";\n\n\ninterface IUserAvatar {\n    email?: string | null\n    size?: AvatarSize\n    shape?: 'circle' | 'square'\n}\n\nconst UserAvatar = (props: IUserAvatar) => {\n    if (props.email !== undefined && props.email !== null) {\n        return (\n            <Avatar\n                shape={props.shape}\n                src={\"https://cravatar.cn/avatar/\" + md5(props.email) +\n                (typeof props.size === \"number\" ? \"?s=\" + props.size : \"\") +\n                (typeof props.size === \"number\" ? \"&d=identicon\": \"?d=identicon\")\n                }\n                alt={\"头像\"}\n                size={props.size}\n            />\n        )\n    } else {\n        return (\n            <Avatar icon={<UserOutlined/>}/>\n        )\n    }\n}\n\nexport default UserAvatar","export default __webpack_public_path__ + \"static/media/logo.871e1201.png\";","import React, {Component, Dispatch} from \"react\";\nimport {Select, Space} from \"antd\";\nimport lang from \"Assert/img/language.png\"\nimport i18n from \"i18next\";\nimport {language, languageMap} from \"../../Config/i18n\";\nimport {connect} from \"react-redux\";\nimport {ConfigState} from \"../../Type/IConfig\";\nimport {ConfigAction} from \"../../Redux/Action/config\";\nimport {Locale} from \"antd/lib/locale-provider\";\nimport moment from 'moment';\nimport 'moment/locale/zh-cn';\nimport {initLanguage} from \"../../Utils/initLanguage\";\n\n\nconst {Option} = Select;\n\nclass ChangeLang extends Component<any, any> {\n    defLang: string = initLanguage()\n\n    constructor(props: any) {\n        super(props);\n        i18n.languages.map((value): void => {\n            if (language.filter((v) => {\n                return v.id === value\n            }).length !== 0) {\n                if (this.defLang.length === 0) this.defLang = value\n            }\n            return undefined\n        })\n        this.changeLang = this.changeLang.bind(this)\n        this.changeLang(this.defLang)\n    }\n\n    changeLang(value: string) {\n        i18n.changeLanguage(value)\n        const id = language.findIndex((item) => {\n            return item.id === value\n        })\n        this.props.ChangeLanguage(languageMap[value], language[id].code)\n        moment.locale(language[id].time);\n        localStorage.setItem('language', language[id].code)\n    }\n\n    render() {\n        return (\n            <>\n                <Space>\n                    <img src={lang} alt={'lang'} width={20}/>\n                    <Select onChange={this.changeLang} defaultValue={this.defLang} bordered={false}\n                            style={{marginLeft: -15}}>\n                        {\n                            language.map((r, i) => {\n                                return (\n                                    <Option key={i.toString()} value={r.id}>{r.name}</Option>\n                                )\n                            })\n                        }\n                    </Select>\n                </Space>\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = (state: any) => {\n    const State: ConfigState = state.ConfigReducer\n    return {\n        lang: State.lang\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch<ConfigAction>) => ({\n    ChangeLanguage: (lang: Locale, langCode: string) => dispatch({\n        type: \"updateLanguage\",\n        lang: lang,\n        langCode: langCode\n    }),\n})\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ChangeLang)\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAlBJREFUWEfFlo0xBEEQhd9FgAgQASJABIgAESACRIAIEAEiQAROBIgAEVDf1vTpmp2/rVO1XaVOzU/369eve3aikW0ycnwNAbAo6UjSraT3/wI+BMCTpE1JX5KWxgDw44IOAV7Eao52A72lw1tuEzZKRpluWlgyANC60HJhwJnVFq0YAKvvAP/Fo6+S1luc+Vp6ilvucuYsCJP/ryTdh4vTINaqn3nERFu+SeIXa6I8RlQCgDCvQx23ExkdhH18Pkji/GArAYDOneDxPNDtAzCMlsPCnqN/EIgaA3fBG10CxfxiPvsPSSuJqKwB8LmEqKYB3x0wQqaYz/4w0fMEfwn6SLE3w1QDQCvhyAwArJ2GhVz2l26wARb2klYDwCVazQJSAlM9e4gzNRXjwZZiqQPUAoBz9PValAJ9f5xIy+vDtgEJ2J61AqCm9LxZLErvODdVk3OiFQAPy34EnzWo9eY18x1a0+4lGWsBkApuQdk7ce3pzxIQMRpzSdZKABDbReh5C0hLoWompJlNwdxo9iXpiTEHAGeP0YvGG4/AMC80Bg0PWW40+3XEvOFrlgJgb4Bvt1QbEZQ/BhSOS6PZ7wGA853FAPwAYR8h0Wq1rxuAwJhZPBsQpyXkmewB8PXiowL6Zmh7Tfy3UBJq6hoftd27EjNAJkw+gPDbYmT22XLQnaFzYLt5Epb8+1GNIHPAGWbWPbP3oWUO1JLzAsu9DeajJ9R5AXjx5V5GnwCCZrZg3TM9LwAcoRdUjmDtozTHGnrhPOUA/PQ/ANRKVNwfHcAv9/p/IZj3OnUAAAAASUVORK5CYII=\"","import {lazy} from \"react\";\nimport {IBaseRouter, IRouter} from \"./router\";\nimport {UrlPrefix} from \"../constValue\";\n\nexport const routerC: IBaseRouter[] = [\n    {\n        id: 2,\n        path: UrlPrefix + \"/login\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CLogin'))\n    },\n    // {\n    //     id: 3,\n    //     path: UrlPrefix + \"/test\",\n    //     exact: true,\n    //     component: lazy(() => import('../../Pages/Client/CTest'))\n    // },\n    {\n        id: 4,\n        path: UrlPrefix + \"/home\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CHome'))\n    },\n    {\n        id: 5,\n        path: UrlPrefix + \"/problem\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CProblem'))\n    },\n    {\n        id: 51,\n        path: UrlPrefix + \"/problem/:ProblemCode\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CProblemInfo'))\n    },\n    {\n        id: 6,\n        path: UrlPrefix + \"/submission\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CSubmissions'))\n    },\n    {\n        id: 7,\n        path: UrlPrefix + \"/contest\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CContest'))\n    },\n    {\n        id: 71,\n        path: UrlPrefix + \"/contest/:contestId\",\n        exact: false,\n        component: lazy(() => import('../../Pages/Client/CContestInfo'))\n    },\n    {\n        id: 8,\n        path: UrlPrefix + \"/group\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CGroup'))\n    },\n    {\n        id: 81,\n        path: UrlPrefix + \"/group/:groupId\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CGroupInfo'))\n    },\n    {\n        id: 9,\n        path: UrlPrefix + \"/user\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CUser'))\n    },\n    {\n        id: 10,\n        path: UrlPrefix + \"/resetpass\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CResetPass'))\n    },\n    {\n        id: 11,\n        path: UrlPrefix + \"/thirdPartyLogin\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CThirdPartyLogin'))\n    },\n    {\n        id: 12,\n        path: UrlPrefix + \"/problemSet/:problemSetId\",\n        exact: false,\n        component: lazy(() => import(\"../../Component/problemSet/PSLayout\"))\n    },\n    {\n        id: 13,\n        path: UrlPrefix + \"/problemSetPublic/:problemSetId\",\n        exact: true,\n        component: lazy(() => import(\"../../Component/problemSet/Public\"))\n    },\n    // {\n    //     id: 7361,\n    //     path: UrlPrefix + \"/studentMutualEvaluation\",\n    //     exact: true,\n    //     component: lazy(() => import(\"../../Pages/Client/CStudentMutualEvaluation\"))\n    // },\n    // {\n    //     id: 7359,\n    //     path: UrlPrefix + \"/hws\",\n    //     exact: true,\n    //     component: lazy(() => import('../../Pages/Ext/Ext-Hws'))\n    // },\n    // {\n    //     id: 7360,\n    //     path: UrlPrefix + \"/hws/:cid\",\n    //     exact: true,\n    //     component: lazy(() => import('../../Pages/Ext/Ext-HwsInfo'))\n    // },\n]\n\nexport const router_ProblemSet: IBaseRouter[] = [\n    {\n        id: 13,\n        path: UrlPrefix + \"/problemSet/:problemSetId/overview\",\n        exact: true,\n        component: lazy(() => import(\"../../Component/problemSet/Overview\"))\n    },\n    {\n        id: 14,\n        path: UrlPrefix + \"/problemSet/:problemSetId/problem/:problemGroupId/:problemId\",\n        exact: true,\n        component: lazy(() => import(\"../../Component/problemSet/Problem\"))\n    },\n    {\n        id: 15,\n        path: UrlPrefix + \"/problemSet/:problemSetId/rank\",\n        exact: true,\n        component: lazy(() => import(\"../../Component/problemSet/Rank\"))\n    },\n    {\n        id: 16,\n        path: UrlPrefix + \"/problemSet/:problemSetId/review\",\n        exact: true,\n        component: lazy(() => import(\"../../Component/problemSet/Review\"))\n    },\n    {\n        id: 17,\n        path: UrlPrefix + \"/problemSet/:problemSetId/submission\",\n        exact: true,\n        component: lazy(() => import(\"../../Component/problemSet/Submission\"))\n    },\n]\n\nexport const routerC_Contest_M: IRouter[] = [\n    {\n        id: 1,\n        title_i18n: \"Overview\",\n        path: UrlPrefix + \"/contest/:contestId/overview\",\n        exact: true,\n        component: lazy(() => import(\"../../Component/contest/Overview\"))\n    },\n    {\n        id: 2,\n        title_i18n: \"Problem\",\n        path: UrlPrefix + \"/contest/:contestId/problem/:problemCode\",\n        exact: true,\n        component: lazy(() => import(\"../../Component/contest/Problem\"))\n    },\n    {\n        id: 3,\n        title_i18n: \"Status\",\n        path: UrlPrefix + \"/contest/:contestId/submission\",\n        exact: true,\n        component: lazy(() => import(\"../../Component/contest/Status\"))\n    },\n    {\n        id: 4,\n        title_i18n: \"Rank\",\n        path: UrlPrefix + \"/contest/:contestId/rank\",\n        exact: true,\n        component: lazy(() => import(\"../../Component/contest/Rank\"))\n    },\n    {\n        id: 5,\n        title_i18n: \"Register\",\n        path: UrlPrefix + \"/contest/:contestId/register\",\n        exact: true,\n        component: lazy(()=> import(\"../../Component/contest/Register\"))\n    }\n]\n\n// C 端目录\nexport const routerC_M: IRouter[] = [\n    {\n        id: 1,\n        title_i18n: \"Home\",\n        path: UrlPrefix + \"/home\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CHome'))\n    },\n    {\n        id: 2,\n        title_i18n: \"Problem\",\n        path: UrlPrefix + \"/problem\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CProblem'))\n    },\n    {\n        id: 3,\n        path: UrlPrefix + \"/submission\",\n        title_i18n: \"Submission\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CSubmissions'))\n    },\n    {\n        id: 4,\n        path: UrlPrefix + \"/contest\",\n        title_i18n: \"Contest\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CContest'))\n    },\n    {\n        id: 5,\n        path: UrlPrefix + \"/group\",\n        title_i18n: \"Group\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CGroup'))\n    },\n    // {\n    //     id: 6,\n    //     path: UrlPrefix + \"/hws\",\n    //     title_i18n: \"文件提交\",\n    //     exact: true,\n    //     component: lazy(() => import('../../Pages/Ext/Ext-Hws'))\n    // },\n    // {\n    //     id: 7,\n    //     path: UrlPrefix + \"/exam\",\n    //     title_i18n: \"考试系统\",\n    //     exact: true,\n    //     component: lazy(() => import('../../Pages/Exam/EList'))\n    // },\n]\n","import CApi from \"Utils/API/c-api\"\nimport {UserInfo} from \"../../Type/Iuser\";\nimport {Dispatch} from \"react\";\nimport {clearRedux} from \"./common\";\n\nexport type UserAction =\n    setUserInfo |\n    userLogin |\n    userLogout |\n    clearRedux\n\n\nexport function userLogoutTodo() {\n    return (dispatch: Dispatch<any>, getState: any) => {\n        CApi.logout().then((resData) => {\n            dispatch({type: \"userLogout\"})\n            dispatch({type: \"clearRedux\"})\n        })\n    }\n}\n\nexport interface setUserInfo {\n    type: \"setUserInfo\"\n    data: UserInfo\n}\n\nexport interface userLogin {\n    type: \"userLogin\"\n}\n\nexport interface userLogout {\n    type: \"userLogout\"\n}\n\n\n","// This icon file is generated automatically.\nvar LogoutOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z\" } }] }, \"name\": \"logout\", \"theme\": \"outlined\" };\nexport default LogoutOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport LogoutOutlinedSvg from \"@ant-design/icons-svg/es/asn/LogoutOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar LogoutOutlined = function LogoutOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: LogoutOutlinedSvg\n  }));\n};\n\nLogoutOutlined.displayName = 'LogoutOutlined';\nexport default /*#__PURE__*/React.forwardRef(LogoutOutlined);","import React, {Dispatch, useEffect} from \"react\";\nimport {Layout} from \"antd\";\nimport {withTranslation} from \"react-i18next\";\nimport {ConfigState} from \"../../Type/IConfig\";\n\nimport {connect} from \"react-redux\";\nimport {withRouter} from \"react-router\";\nimport cApi from \"../../Utils/API/c-api\";\n\nconst {Footer} = Layout;\n\nconst FooterSDU = (props: any) => {\n\n    useEffect(() => {\n        if (props.copyRight.length === 0) {\n            cApi.getCopyright().then((data: any) => {\n                props.setCopyRight(data)\n            })\n        }\n    }, [props.copyRight])\n\n    return (\n        <>\n            <Footer style={{textAlign: 'center'}}>\n                <div dangerouslySetInnerHTML={{__html: props.copyRight}}/>\n            </Footer>\n        </>\n    )\n\n}\n\nconst mapStateToProps = (state: any) => {\n    const CState: ConfigState = state.ConfigReducer\n    return {\n        copyRight: CState.copyRight\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch<any>) => ({\n    setCopyRight: (data: any) => dispatch({type: \"setCopyRight\", data: data}),\n})\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(\n    withTranslation()(\n        withRouter(FooterSDU)\n    ))\n","import React, {Component, Dispatch} from \"react\";\nimport {Button, Divider, Dropdown, Layout, Menu, message, Space} from \"antd\";\nimport ChangeLang from \"../common/ChangeLang\";\nimport {Link} from \"react-router-dom\";\nimport {DownOutlined, LogoutOutlined, RightOutlined, UserOutlined} from \"@ant-design/icons\";\nimport logo from \"../../Assert/img/logo.png\";\nimport {UserState} from \"../../Type/Iuser\";\nimport {connect} from \"react-redux\";\nimport {withTranslation} from \"react-i18next\";\nimport {withRouter} from \"react-router\";\nimport {userLogoutTodo} from \"../../Redux/Action/user\";\nimport UserAvatar from \"../user/Avatar\";\nimport judgeAuth from \"../../Utils/judgeAhtu\";\nimport {routerC_M} from \"../../Config/router/routerC\";\nimport {UrlPrefix} from \"../../Config/constValue\";\n\nconst {Header} = Layout;\n\nclass CHeader extends Component<any, any> {\n    constructor(props: any, context: any) {\n        super(props, context);\n        this.state = {selectedKey: '0'}\n    }\n\n    syncSelect = ()=>{\n        for (let i = 0; i < routerC_M.length; i++) {\n            if (this.props.location.pathname === routerC_M[i].path) {\n                if (this.state.selectedKey !== routerC_M[i].id.toString()) {\n                    this.setState({\n                        selectedKey: routerC_M[i].id.toString()\n                    })\n                }\n            }\n        }\n    }\n\n    componentDidMount() {\n        this.syncSelect()\n        try{\n            \"test\".replaceAll(\"t\", \"1\")\n        }catch (e){\n            this.props.history.replace(UrlPrefix + \"/error/browser\")\n        }\n    }\n\n    componentDidUpdate(prevProps: Readonly<any>, prevState: Readonly<any>, snapshot?: any) {\n        this.syncSelect()\n    }\n\n    render() {\n        return (\n            <Header className=\"site-layout-sub-header-background\"\n                    style={{position: 'fixed', zIndex: 1, width: '100%', display: \"flex\", justifyContent: \"space-between\"}}>\n                <div className=\"logo\" style={{flex: \"125px 0 0\", marginTop: \"-5px\", marginLeft: \"-10px\"}} key={\"logo\"}>\n                    <img src={logo} style={{width: \"125px\", height: '30px'}}\n                         alt={\"SDUOJ-logo\"}/>\n                </div>\n                <div style={{minWidth: 0, flex: \"auto\"}}>\n                    <Menu\n                        mode=\"horizontal\"\n                        theme={\"light\"}\n                        selectedKeys={[this.state.selectedKey]}\n                        style={{}}\n                    >\n                        {\n                            routerC_M.map((r, i) => {\n                                return (\n                                    <Menu.Item key={r.id} icon={r.icon}>\n                                        <Link to={r.path}>{this.props.t(r.title_i18n)}</Link>\n                                    </Menu.Item>\n                                )\n\n                            })\n                        }\n                    </Menu>\n                </div>\n                <div style={{flex: \"0\"}} key={\"operator\"}>\n                    <Space size={30}>\n                        {/*<Button type={\"text\"} onClick={()=>{*/}\n                        {/*    this.props.history.replace(\"/home\")*/}\n                        {/*    window.location.reload()*/}\n                        {/*}}>返回老版</Button>*/}\n                        <ChangeLang/>\n                        {\n                            [''].map(() => {\n                                if (this.props.isLogin) {\n                                    return (\n                                        <Dropdown overlay={\n                                            <Menu>\n                                                {\n                                                    this.props.roles !== undefined &&\n                                                    judgeAuth(this.props.roles, [\"admin\", \"superadmin\"]) &&\n                                                    (\n                                                        <Menu.Item\n                                                            key=\"0\"\n                                                            icon={<RightOutlined />}\n                                                            onClick={() => {\n                                                                this.props.history.push(UrlPrefix + \"/manage\")\n                                                            }}\n                                                        >\n                                                            {this.props.t(\"toManage\")}\n                                                        </Menu.Item>\n                                                    )\n                                                }\n                                                <Menu.Item\n                                                    key=\"1\"\n                                                    icon={<UserOutlined/>}\n                                                    onClick={() => {\n                                                        this.props.history.push(UrlPrefix + \"/user\")\n                                                    }}\n                                                >\n                                                    {this.props.t(\"Profile\")}\n                                                </Menu.Item>\n                                                <Menu.Item\n                                                    key=\"2\"\n                                                    icon={<LogoutOutlined/>}\n                                                    onClick={()=>{\n                                                        this.props.userLogout()\n                                                        setTimeout(()=>{\n                                                            this.props.history.push(UrlPrefix + \"/home\")\n                                                        }, 200)\n                                                        message.info(\"已退出登录\")\n                                                    }}\n                                                >\n                                                    {this.props.t(\"Logout\")}\n                                                </Menu.Item>\n                                            </Menu>\n                                        }>\n                                            <Button type=\"text\" size={\"large\"}>\n                                                <Space>\n                                                    <div style={{marginTop: -10}}>\n                                                        <UserAvatar email={this.props.email}/>\n                                                        <Divider type=\"vertical\"/>\n                                                        {this.props.username}\n                                                    </div>\n                                                    <DownOutlined style={{fontSize: 10, marginBottom: 20}}/>\n                                                </Space>\n                                            </Button>\n                                        </Dropdown>\n                                    )\n                                } else {\n                                    return (\n                                        <>\n                                            <Space>\n                                                <Button type={\"text\"} onClick={()=>{\n                                                    this.props.history.push(UrlPrefix + \"/login?to=\" + this.props.location.pathname)\n                                                }}>登录 / 注册</Button>\n                                            </Space>\n                                        </>\n                                    )\n                                }\n                            })\n                        }\n                    </Space>\n                </div>\n            </Header>\n        )\n    }\n}\n\n\nconst mapStateToProps = (state: any) => {\n    const UState: UserState = state.UserReducer\n\n    return {\n        isLogin: UState.isLogin,\n        username: UState.userInfo?.username,\n        email: UState.userInfo?.email,\n        roles: UState.userInfo?.roles\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch<any>) => ({\n    userLogout: () => dispatch(userLogoutTodo()),\n})\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(\n    withTranslation()(\n        withRouter(CHeader)\n    ))\n","import React, {Component, Dispatch, Suspense} from \"react\";\nimport {Layout} from \"antd\";\nimport Loading from \"../../Utils/Loading\";\nimport {Route} from \"react-router-dom\";\nimport {withTranslation} from \"react-i18next\";\nimport {connect} from \"react-redux\";\nimport {withRouter} from \"react-router\";\nimport FooterSDU from \"./FooterSDU\";\nimport CHeader from \"./CHeader\";\nimport {routerC} from \"../../Config/router/routerC\";\nimport {ContestState} from \"../../Redux/Action/contest\";\nimport {UrlPrefix} from \"../../Config/constValue\";\nimport LoginCheck from \"../common/LoginCheck\";\n\nconst {Content} = Layout;\n\nclass MLayout extends Component<any, any> {\n\n    componentDidMount() {\n        if (this.props.location.pathname === UrlPrefix || this.props.location.pathname === UrlPrefix + '/') {\n            this.props.history.push(UrlPrefix + \"/home\");\n        }\n    }\n\n    render() {\n\n        let minWidth = 500\n        if (this.props.location.pathname.match(/\\/contest\\/.*\\/rank/g) !== null) {\n            minWidth = Math.max(500, (this.props.minWidth ?? 0) + 100)\n        }\n\n        return (\n            <>\n                <LoginCheck/>\n                <Layout style={{height: \"max-content\", minHeight: \"100%\", minWidth: \"1300px\"}}>\n                    <Layout style={{minWidth: minWidth}}>\n                        <CHeader/>\n                        <Content style={{\n                            backgroundColor: \"#ffffff\",\n                            paddingTop: 64,\n                            margin: '20px 16px 0',\n                            display: \"table\",\n                            height: \"auto\"\n                        }}>\n                            <Suspense fallback={<Loading/>}>\n                                {routerC.map(({id, path, exact, component}) => {\n                                    return (\n                                        <Route\n                                            key={id} path={path} exact={exact}\n                                            component={component}/>\n                                    )\n                                })}\n                            </Suspense>\n                        </Content>\n                        <FooterSDU/>\n                    </Layout>\n                </Layout>\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = (state: any) => {\n    const CState: ContestState = state.ContestReducer\n    return {\n        minWidth: CState.minWidth\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch<any>) => ({})\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withTranslation()(withRouter(MLayout)))\n"],"sourceRoot":""}