(this.webpackJsonpsduoj=this.webpackJsonpsduoj||[]).push([[9],{1004:function(e,t,a){"use strict";var n=a(975),o=a(299),r=a(965),c=a(60),i=a(1085),l=a(974),s=a(0),u=a(87),d=a(66),m=a(298),b=a(40),p=a(302),f=a(67),v=a(292),j=a(5);t.a=Object(d.b)((e=>{var t;const a=e.UserReducer,n=e.TableReduce;return{roles:null===(t=a.userInfo)||void 0===t?void 0:t.roles,tableData:{...n.tableData}}}),(e=>({setTableInfo:(t,a)=>e({type:"setTableInfo",name:t,data:a}),setDataSource:(t,a)=>e({type:"setDataSource",data:t,name:a,add:!1})})))(Object(m.a)()(Object(b.e)((e=>{var t,a;const[d,m]=Object(s.useState)(0),[b,g]=Object(s.useState)(),[O,h]=Object(s.useState)(!0),[y,x]=Object(s.useState)(1),[C,S]=Object(s.useState)(Object(f.a)(e.defaultPageSize,u.h)),[w,N]=Object(s.useState)(),[E,P]=Object(s.useState)(0),z=t=>{g(t),void 0!==e.setDataSource&&void 0!==e.name&&e.setDataSource(t,e.name)},k=(t,a,n,o)=>{var r,c,i,l,s;const u=null===(r=e.tableData[e.name])||void 0===r?void 0:r.tableInfo;var d,b,p,f;void 0!==u&&(void 0===o&&void 0!==u.moreProps&&I.setFieldsValue(u.moreProps),t=null!==(d=t)&&void 0!==d?d:u.pageNow,a=null!==(b=a)&&void 0!==b?b:u.pageSize,n=null!==(p=n)&&void 0!==p?p:u.searchKey,o=null!==(f=o)&&void 0!==f?f:u.moreProps);let v=null!==(c=t)&&void 0!==c?c:y,j=null!==(i=a)&&void 0!==i?i:C,g=null!==(l=n)&&void 0!==l?l:w,O=null!==(s=o)&&void 0!==s?s:I.getFieldsValue();x(v),S(j),N(g),h(!0),e.API({pageNow:v,pageSize:j,searchKey:g,...O}).then((t=>{null===t.rows&&(t.rows=[]),void 0!==e.APIRowsTransForm?z(e.APIRowsTransForm(t.rows)):z(t.rows),void 0!==t.totalNum&&"0"!==t.totalNum?(m(t.totalNum),e.name&&e.setTableInfo(e.name,{total:t.totalNum,pageNow:v,pageSize:j,searchKey:g,moreProps:O})):(m(j*t.totalPage),e.name&&e.setTableInfo(e.name,{total:j*t.totalPage,pageNow:v,pageSize:j,searchKey:g,moreProps:O})),h(!1)}))};Object(s.useEffect)((()=>{I.setFieldsValue(e.initRequestProps),k()}),[e.name]);const[I]=Object(v.a)(),F=()=>{const e=I.getFieldsValue();"{}"!==JSON.stringify(e)&&k(1,C,void 0,e)},T=()=>{var t;const a=I.getFieldsValue();I.resetFields();const n=null===(t=e.tableData[e.name])||void 0===t?void 0:t.tableInfo;e.name&&e.setTableInfo(e.name,{total:n.total,pageNow:n.pageNow,pageSize:n.pageSize,searchKey:n.searchKey,moreProps:void 0});const o=I.getFieldsValue();JSON.stringify(a)!==JSON.stringify(o)&&k(1,C,void 0,void 0)};return Object(s.useEffect)((()=>{var t;const a=null===(t=e.tableData[e.name])||void 0===t?void 0:t.tableVersion;if(void 0!==a&&E!==a)if(a<0){var n;P(-a),g(null===(n=e.tableData[e.name])||void 0===n?void 0:n.dataSource)}else{P(a);const e=I.getFieldsValue();k(y,C,w,e)}}),[e.tableData,E]),Object(j.jsxs)(j.Fragment,{children:[e.useList&&Object(j.jsx)(n.a,{title:e.title,bordered:!0,size:"default",className:null!==(t=e.cardProps)&&void 0!==t?t:"zeroBodyPaddingLeft",extra:(!0===e.search||void 0!==e.getForm)&&Object(j.jsxs)(j.Fragment,{children:[!0===e.search&&Object(j.jsx)(p.a,{placeholder:e.t("searchUser"),onSearch:e=>{N(e),x(1);const t=I.getFieldsValue();k(1,C,e,t)},enterButton:!0,style:{width:300}},"search"),void 0!==e.getForm&&Object(j.jsxs)(o.a,{form:I,children:[e.getForm(F),e.useFormBtn&&Object(j.jsxs)(r.b,{style:{marginLeft:"30px"},size:20,children:[Object(j.jsx)(c.a,{type:"primary",onClick:F,children:"\u7b5b\u9009"}),Object(j.jsx)(c.a,{htmlType:"button",onClick:T,children:"\u91cd\u7f6e"})]})]})]}),children:Object(j.jsx)(i.b,{grid:e.grid,itemLayout:"vertical",loading:O,size:e.size,dataSource:b,renderItem:e.renderItem,pagination:{onChange:(e,t)=>{k(e,t)},current:y,pageSize:C,total:d,size:"small",hideOnSinglePage:!0,showQuickJumper:!0,showLessItems:!0,showSizeChanger:Object(f.a)(e.showSizeChanger,!0),pageSizeOptions:["5","15","20","50","80"]}})}),!e.useList&&Object(j.jsx)(n.a,{bordered:!1,size:"small",extra:(!0===e.search||void 0!==e.getForm)&&Object(j.jsxs)(j.Fragment,{children:[!0===e.search&&Object(j.jsx)(p.a,{placeholder:"\u641c\u7d22",onSearch:e=>{N(e),x(1),k(1,C,e)},enterButton:!0,style:{width:300}},"search"),void 0!==e.getForm&&Object(j.jsxs)(o.a,{form:I,children:[e.getForm(F),Object(j.jsxs)(r.b,{style:{marginLeft:"30px"},size:20,children:[Object(j.jsx)(c.a,{type:"primary",onClick:F,children:e.t("filtering")}),Object(j.jsx)(c.a,{htmlType:"button",onClick:T,children:e.t("Reset")})]})]})]}),children:Object(j.jsx)(l.a,{rowKey:e.rowKey,loading:O,size:e.size,columns:e.columns,rowSelection:e.rowSelection,dataSource:b,pagination:null!==(a=e.pagination)&&void 0!==a?a:{onChange:(e,t)=>{k(e,t)},current:y,pageSize:C,total:d,hideOnSinglePage:!1,showQuickJumper:!0,showLessItems:!0,showSizeChanger:Object(f.a)(e.showSizeChanger,!0),pageSizeOptions:["5","15","20","50","80"]}})})]})}))))},1068:function(e,t,a){"use strict";var n=a(3),o=a(10),r=a(140),c=a(2),i=a.n(c),l=a(82),s=a(113),u=a(0),d=a(36),m=a(966),b=a(23),p=a(60),f=a(142),v=a(250),j=a(68),g=a(75),O=a(249);function h(e){var t=e.prefixCls,a=e.okButtonProps,o=e.cancelButtonProps,r=e.title,c=e.cancelText,i=e.okText,l=e.okType,s=e.icon,m=e.showCancel,b=void 0===m||m,h=e.close,y=e.onConfirm,x=e.onCancel,C=u.useContext(d.b).getPrefixCls;return u.createElement(j.a,{componentName:"Popconfirm",defaultLocale:g.a.Popconfirm},(function(e){return u.createElement("div",{className:"".concat(t,"-inner-content")},u.createElement("div",{className:"".concat(t,"-message")},s,u.createElement("div",{className:"".concat(t,"-message-title")},Object(O.a)(r))),u.createElement("div",{className:"".concat(t,"-buttons")},b&&u.createElement(p.a,Object(n.a)({onClick:x,size:"small"},o),c||e.cancelText),u.createElement(v.a,{buttonProps:Object(n.a)(Object(n.a)({size:"small"},Object(f.a)(l)),a),actionFn:y,close:h,prefixCls:C("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},i||e.okText)))}))}var y=void 0,x=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]])}return a},C=u.forwardRef((function(e,t){var a=u.useContext(d.b).getPrefixCls,r=Object(l.a)(!1,{value:e.visible,defaultValue:e.defaultVisible}),c=Object(o.a)(r,2),p=c[0],f=c[1],v=function(t,a){var n;f(t,!0),null===(n=e.onVisibleChange)||void 0===n||n.call(e,t,a)},j=e.prefixCls,g=e.placement,O=e.children,C=e.overlayClassName,S=x(e,["prefixCls","placement","children","overlayClassName"]),w=a("popover",j),N=a("popconfirm",j),E=i()(N,C);return u.createElement(m.a,Object(n.a)({},S,{prefixCls:w,placement:g,onVisibleChange:function(t){e.disabled||v(t)},visible:p,_overlay:u.createElement(h,Object(n.a)({},e,{prefixCls:w,close:function(e){v(!1,e)},onConfirm:function(t){var a;return null===(a=e.onConfirm)||void 0===a?void 0:a.call(y,t)},onCancel:function(t){var a;v(!1,t),null===(a=e.onCancel)||void 0===a||a.call(y,t)}})),overlayClassName:E,ref:t}),Object(b.a)(O,{onKeyDown:function(e){var t,a;u.isValidElement(O)&&(null===(a=null===O||void 0===O?void 0:(t=O.props).onKeyDown)||void 0===a||a.call(t,e)),function(e){e.keyCode===s.a.ESC&&p&&v(!1,e)}(e)}}))}));C.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:u.createElement(r.a,null),disabled:!1};t.a=C},1085:function(e,t,a){"use strict";a.d(t,"a",(function(){return N}));var n=a(16),o=a(3),r=a(4),c=a(10),i=a(15),l=a(2),s=a.n(l),u=a(0),d=a.n(u),m=a(36),b=a(184),p=a(962),f=a(138),v=a(306),j=a(241),g=a(112),O=a(177),h=a(23),y=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]])}return a},x=function(e,t){var a=e.prefixCls,n=e.children,c=e.actions,i=e.extra,l=e.className,b=e.colStyle,p=y(e,["prefixCls","children","actions","extra","className","colStyle"]),f=Object(u.useContext)(N),v=f.grid,j=f.itemLayout,g=Object(u.useContext)(m.b).getPrefixCls,x=g("list",a),C=c&&c.length>0&&d.a.createElement("ul",{className:"".concat(x,"-item-action"),key:"actions"},c.map((function(e,t){return d.a.createElement("li",{key:"".concat(x,"-item-action-").concat(t)},e,t!==c.length-1&&d.a.createElement("em",{className:"".concat(x,"-item-action-split")}))}))),S=v?"div":"li",w=d.a.createElement(S,Object(o.a)({},p,v?{}:{ref:t},{className:s()("".concat(x,"-item"),Object(r.a)({},"".concat(x,"-item-no-flex"),!("vertical"===j?i:!function(){var e;return u.Children.forEach(n,(function(t){"string"===typeof t&&(e=!0)})),e&&u.Children.count(n)>1}())),l)}),"vertical"===j&&i?[d.a.createElement("div",{className:"".concat(x,"-item-main"),key:"content"},n,C),d.a.createElement("div",{className:"".concat(x,"-item-extra"),key:"extra"},i)]:[n,C,Object(h.a)(i,{key:"extra"})]);return v?d.a.createElement(O.a,{ref:t,flex:1,style:b},w):w},C=Object(u.forwardRef)(x);C.Meta=function(e){var t=e.prefixCls,a=e.className,n=e.avatar,r=e.title,c=e.description,i=y(e,["prefixCls","className","avatar","title","description"]),l=(0,Object(u.useContext)(m.b).getPrefixCls)("list",t),b=s()("".concat(l,"-item-meta"),a),p=d.a.createElement("div",{className:"".concat(l,"-item-meta-content")},r&&d.a.createElement("h4",{className:"".concat(l,"-item-meta-title")},r),c&&d.a.createElement("div",{className:"".concat(l,"-item-meta-description")},c));return d.a.createElement("div",Object(o.a)({},i,{className:b}),n&&d.a.createElement("div",{className:"".concat(l,"-item-meta-avatar")},n),(r||c)&&p)};var S=C,w=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]])}return a},N=u.createContext({});N.Consumer;function E(e){var t,a=e.pagination,l=void 0!==a&&a,d=e.prefixCls,O=e.bordered,h=void 0!==O&&O,y=e.split,x=void 0===y||y,C=e.className,S=e.children,E=e.itemLayout,P=e.loadMore,z=e.grid,k=e.dataSource,I=void 0===k?[]:k,F=e.size,T=e.header,V=e.footer,L=e.loading,D=void 0!==L&&L,K=e.rowKey,R=e.renderItem,M=e.locale,B=w(e,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),J=l&&"object"===Object(i.a)(l)?l:{},A=u.useState(J.defaultCurrent||1),G=Object(c.a)(A,2),q=G[0],U=G[1],W=u.useState(J.defaultPageSize||10),Q=Object(c.a)(W,2),H=Q[0],_=Q[1],X=u.useContext(m.b),Y=X.getPrefixCls,Z=X.renderEmpty,$=X.direction,ee={},te=function(e){return function(t,a){U(t),_(a),l&&l[e]&&l[e](t,a)}},ae=te("onChange"),ne=te("onShowSizeChange"),oe=Y("list",d),re=D;"boolean"===typeof re&&(re={spinning:re});var ce=re&&re.spinning,ie="";switch(F){case"large":ie="lg";break;case"small":ie="sm"}var le=s()(oe,(t={},Object(r.a)(t,"".concat(oe,"-vertical"),"vertical"===E),Object(r.a)(t,"".concat(oe,"-").concat(ie),ie),Object(r.a)(t,"".concat(oe,"-split"),x),Object(r.a)(t,"".concat(oe,"-bordered"),h),Object(r.a)(t,"".concat(oe,"-loading"),ce),Object(r.a)(t,"".concat(oe,"-grid"),!!z),Object(r.a)(t,"".concat(oe,"-something-after-last-item"),!!(P||l||V)),Object(r.a)(t,"".concat(oe,"-rtl"),"rtl"===$),t),C),se=Object(o.a)(Object(o.a)(Object(o.a)({},{current:1,total:0}),{total:I.length,current:q,pageSize:H}),l||{}),ue=Math.ceil(se.total/se.pageSize);se.current>ue&&(se.current=ue);var de=l?u.createElement("div",{className:"".concat(oe,"-pagination")},u.createElement(v.a,Object(o.a)({},se,{onChange:ae,onShowSizeChange:ne}))):null,me=Object(n.a)(I);l&&I.length>(se.current-1)*se.pageSize&&(me=Object(n.a)(I).splice((se.current-1)*se.pageSize,se.pageSize));var be=Object.keys(z||{}).some((function(e){return["xs","sm","md","lg","xl","xxl"].includes(e)})),pe=Object(f.a)(be),fe=u.useMemo((function(){for(var e=0;e<g.b.length;e+=1){var t=g.b[e];if(pe[t])return t}}),[pe]),ve=u.useMemo((function(){if(z){var e=fe&&z[fe]?z[fe]:z.column;return e?{width:"".concat(100/e,"%"),maxWidth:"".concat(100/e,"%")}:void 0}}),[null===z||void 0===z?void 0:z.column,fe]),je=ce&&u.createElement("div",{style:{minHeight:53}});if(me.length>0){var ge=me.map((function(e,t){return function(e,t){return R?((a="function"===typeof K?K(e):K?e[K]:e.key)||(a="list-item-".concat(t)),ee[t]=a,R(e,t)):null;var a}(e,t)})),Oe=u.Children.map(ge,(function(e,t){return u.createElement("div",{key:ee[t],style:ve},e)}));je=z?u.createElement(p.a,{gutter:z.gutter},Oe):u.createElement("ul",{className:"".concat(oe,"-items")},ge)}else S||ce||(je=function(e,t){return u.createElement("div",{className:"".concat(e,"-empty-text")},M&&M.emptyText||t("List"))}(oe,Z||b.a));var he=se.position||"bottom",ye=u.useMemo((function(){return{grid:z,itemLayout:E}}),[JSON.stringify(z),E]);return u.createElement(N.Provider,{value:ye},u.createElement("div",Object(o.a)({className:le},B),("top"===he||"both"===he)&&de,T&&u.createElement("div",{className:"".concat(oe,"-header")},T),u.createElement(j.a,Object(o.a)({},re),je,S),V&&u.createElement("div",{className:"".concat(oe,"-footer")},V),P||("bottom"===he||"both"===he)&&de))}E.Item=S;t.b=E},1263:function(e,t,a){"use strict";var n=a(298),o=a(60),r=a(97),c=a(968),i=a(976),l=a(178),s=a(0),u=(a(1264),a(5));t.a=Object(n.a)()((e=>{const[t,a]=Object(s.useState)(!1),[n,d]=Object(s.useState)("");return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(o.a,{...e.btnProps,onClick:()=>{void 0!==e.beforeCheck?e.beforeCheck().then((()=>{a(!0)})).catch((()=>{r.b.error("\u8868\u5355\u4e0d\u5b8c\u6574")})):a(!0)},children:e.btnText}),Object(u.jsxs)(c.a,{title:"\u64cd\u4f5c\u786e\u8ba4",visible:t,className:"Reconfirm-Modal",onCancel:()=>{a(!1)},footer:[Object(u.jsxs)(o.a,{block:!0,danger:!0,disabled:e.confirm!==n,onClick:()=>{void 0!==e.API&&e.API(),d(""),a(!1)},children:[" \u6211\u786e\u5b9a\u8981",e.todo," "]})],children:[Object(u.jsx)(i.a,{message:Object(u.jsxs)("span",{style:{fontWeight:"bold"},children:["\u60a8\u786e\u5b9a\u8981",e.todo,"\u5417\uff1f"]}),type:"warning",showIcon:!0,style:{marginBottom:10}}),Object(u.jsxs)("div",{className:"Reconfirm-Modal-Input",children:["\u8bf7\u8f93\u5165 ",Object(u.jsx)("span",{style:{fontWeight:"bold"},children:e.confirm})," \u8fdb\u884c\u786e\u8ba4\u3002",Object(u.jsx)(l.a,{value:n,onChange:e=>{d(e.target.value)}})]})]})]})}))},1264:function(e,t,a){},1365:function(e,t,a){"use strict";var n=a(40),o=a(1263),r=a(66),c=a(100),i=a(97),l=(a(0),a(87)),s=a(401),u=a(5);t.a=Object(r.b)((e=>({})),(e=>({addTableVersion:t=>e({type:"addTableVersion",name:t})})))(Object(n.e)((e=>{const t=Object(r.d)((e=>{var t,a;return null===(t=e.UserReducer)||void 0===t||null===(a=t.userInfo)||void 0===a?void 0:a.username})),{t:a}=Object(s.a)();return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(o.a,{btnProps:{type:"link"},btnText:a("exit"),confirm:t,API:()=>{c.a.quitGroup({groupId:e.groupId}).then((()=>{e.history.replace(l.g+"/group"),i.b.success(a("successfulExit")),e.addTableVersion("GroupList")}))},todo:"".concat(a("exitGroup")," ").concat(e.groupName," ")})})})))},1366:function(e,t,a){"use strict";var n=a(0),o=a(66),r=a(40),c=a(1068),i=a(97),l=a(60),s=a(100),u=a(5);t.a=Object(o.b)((e=>({})),(e=>({addTableVersion:t=>e({type:"addTableVersion",name:t})})))(Object(r.e)((e=>{const[t,a]=Object(n.useState)(!1),[o,r]=Object(n.useState)(!1);return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(c.a,{title:"\u4f60\u786e\u5b9a\u8981\u7533\u8bf7\u52a0\u5165".concat(e.groupName,"\u5417\uff1f"),visible:t,onConfirm:()=>{s.a.joinGroupApply({groupId:e.groupId}).then((()=>{a(!1),r(!1),e.addTableVersion("GroupList"),i.b.success("\u7533\u8bf7\u6210\u529f")}))},okButtonProps:{loading:o},onCancel:()=>{a(!1)},children:Object(u.jsx)(l.a,{type:"link",onClick:()=>{a(!0)},children:"\u52a0\u5165"})})})})))}}]);
//# sourceMappingURL=9.d9384843.chunk.js.map