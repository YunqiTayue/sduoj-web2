(this.webpackJsonpsduoj=this.webpackJsonpsduoj||[]).push([[55],{1015:function(e,t,n){"use strict";var r=n(1071),i=n.n(r),c=n(67);const o="https://oj.qd.sdu.edu.cn";var a=n(0),l=n(5);t.a=e=>{const[t,n]=Object(a.useState)(!1),[r,s]=Object(a.useState)(!1);return Object(a.useEffect)((()=>{Object(c.c)(e.text)||t||r===e.text||(n(!0),s(e.text),function(e,t){var n,r,a;(Object(c.c)(e)||Object(c.c)(null===(n=e)||void 0===n?void 0:n.trim()))&&(e=""),e=null===(a=e=null===(r=e)||void 0===r?void 0:r.replaceAll(/`{3}\n([-|0-9a-zA-Z])/g,"```plaintext\n$1"))||void 0===a?void 0:a.replaceAll(/\$\n(.*)\n\$/g,"$ $1 $");const l={mode:"light",cdn:o+"/vditor",emojiPath:o+"/vditor/dist/images/emoji",theme:{path:o+"/vditor/dist/css/content-theme"},hljs:{lineNumber:!1},markdown:{toc:!0,mark:!0,footnotes:!0,autoSpace:!0},math:{inlineDigit:!0,engine:"KaTeX"}};return i.a.preview(document.getElementById(t),e,l)}(e.text,e.id).then((e=>{n(!1)})))}),[e.id,e.text,t]),Object(l.jsx)("div",{id:e.id,style:{overflowY:"hidden"}})}},1222:function(e,t,n){"use strict";var r=n(66),i=n(100),c=n(0);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const n=Object(r.d)((t=>t.ProblemSetReducer.problemSetInfo[e])),o=Object(r.d)((t=>t.ProblemSetReducer.problemSetInfo[e+"-cache"])),a=Object(r.c)(),[l,s]=Object(c.useState)(),[d,m]=Object(c.useState)();return Object(c.useEffect)((()=>{l!==e?(void 0===o&&void 0===n?(a({type:"setProblemSetInfo",key:e+"-cache",data:!0}),i.a.getProblemSetInfo({psid:parseInt(e)}).then((t=>{a({type:"setProblemSetInfo",key:e,data:t}),a({type:"setProblemSetInfo",key:e+"-cache",data:void 0}),m(t)})).catch((e=>{t&&t(e)}))):m(n),s(e)):m(n)}),[n,e]),d}},1405:function(e,t,n){"use strict";n.r(t);var r=n(40),i=n(240),c=n(975),o=n(60),a=n(1421),l=n(67),s=n(1015),d=n(0),m=n(1222),b=n(87),j=n(66),u=n(298),p=n(167),h=n(5);var v=Object(j.b)((e=>{var t;return{roles:null===(t=e.UserReducer.userInfo)||void 0===t?void 0:t.roles}}),(e=>({})))(Object(u.a)()(Object(r.e)((e=>{const t=e.match.params.problemSetId,n=e.location.pathname,r=Object(m.a)(t,(()=>{e.history.replace(b.g+"/problemSetPublic/"+t)})),j=[{name:"\u603b\u89c8",link:b.g+"/problemSet/"+t+"/overview",re:/\/problemSet\/.*\/overview/g},{name:"\u9898\u76ee",link:b.g+"/problemSet/"+t+"/problem/0/0",re:/\/problemSet\/.*\/problem/g},{name:"\u8bc4\u9605",link:b.g+"/problemSet/"+t+"/review",re:/\/problemSet\/.*\/review/g},{name:"\u699c\u5355",link:b.g+"/problemSet/"+t+"/rank",re:/\/problemSet\/.*\/rank/g},{name:"\u63d0\u4ea4\u5217\u8868",link:b.g+"/problemSet/"+t+"/submission",re:/\/problemSet\/.*\/submission/g}],[u,v]=Object(d.useState)(),O=["\u603b\u89c8","\u9898\u76ee"];return!0===(null===r||void 0===r?void 0:r.isAdmin)&&O.push("\u8bc4\u9605","\u63d0\u4ea4\u5217\u8868","\u699c\u5355"),Object(d.useEffect)((()=>{null!==n.match(/\/problemSet\/[0-9]*\/?$/g)&&e.history.replace(j[0].link),j.map((e=>{null!==n.match(e.re)&&v(e.name)}))}),[n]),Object(h.jsx)(h.Fragment,{children:void 0!==r&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(c.a,{style:{marginTop:25},extra:Object(h.jsx)("div",{style:{marginTop:12}}),title:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(i.b,{to:b.g+"/group/".concat(r.groupId),children:Object(h.jsx)(o.a,{size:"small",icon:Object(h.jsx)(p.a,{}),children:" \u8fd4\u56de "})})}),children:[1===r.config.useSameSE&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{style:{textAlign:"center"},children:Object(h.jsx)("span",{style:{fontWeight:"bold",fontSize:"1.45rem"},children:Object(h.jsx)("span",{style:{paddingRight:10},children:r.name})})})}),!Object(l.c)(r.description)&&!Object(l.c)(r.description.trim())&&Object(h.jsx)(s.a,{id:"problemSet-markdownDescription",text:r.description.trim()})]}),Object(h.jsx)(a.a,{block:!0,options:O,value:u,onChange:t=>{j.map((n=>{n.name===t&&e.history.push(n.link)}))}})]})})})))),O=n(322),g=n(1274),x=n(1082),f=n(1397);t.default=Object(j.b)((e=>{var t,n;const r=e.ContestReducer,i=e.UserReducer;return{minWidth:r.minWidth,realName:null===(t=i.userInfo)||void 0===t?void 0:t.nickname,sduId:null===(n=i.userInfo)||void 0===n?void 0:n.username}}),(e=>({})))(Object(u.a)()(Object(r.e)((e=>{var t;let n=500;const[i,c]=Object(d.useState)(null===(t=document.querySelector("body"))||void 0===t?void 0:t.clientWidth);Object(d.useEffect)((()=>(window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)})));const o=e=>{c(e.target.innerWidth)};var a;null!==e.location.pathname.match(/\/problemSet\/.*\/rank/g)&&(n=Math.max(500,(null!==(a=e.minWidth)&&void 0!==a?a:0)+100));const l=Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(v,{}),Object(h.jsx)(d.Suspense,{fallback:Object(h.jsx)(O.a,{}),children:g.d.map((e=>{let{id:t,path:n,exact:i,component:c}=e;return Object(h.jsx)(r.a,{path:n,exact:i,component:c},t)}))})]});return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(x.a,{jump:!0}),Object(h.jsx)("div",{style:n<=1500?{textAlign:"center",margin:"0 auto"}:void 0,children:Object(h.jsx)("div",{style:n<=1500?{textAlign:"left",maxWidth:"1500px",margin:"0 auto"}:{textAlign:"left",maxWidth:"1500px",marginLeft:Math.max(0,(i-n)/2)},children:Object(h.jsx)(f.a,{rotate:-25,gapX:200,gapY:200,offsetLeft:20,content:e.realName+" "+e.sduId,fontColor:"rgba(212, 212, 212, 0.5)",fontSize:18,zIndex:500,children:l})})})]})}))))}}]);
//# sourceMappingURL=55.45e20b7b.chunk.js.map